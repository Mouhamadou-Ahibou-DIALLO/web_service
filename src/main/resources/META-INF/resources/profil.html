<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Profil</title>
    <link rel="stylesheet" href="css/profil.css">
</head>
<body>
<div id="notification" class="notification" style="display: none;"></div>

<header>
    <h1>Profil de <span id="nom"></span></h1>
    <button onclick="window.location.href='home.html'">Retour</button>
</header>

<main>
    <section id="infos">
        <p>Email: <span id="email"></span></p>
        <p>Pseudo: <span id="pseudo"></span></p>
        <p>Avatar: <img id="avatar" width="100" /></p>
    </section>

    <section id="mes-posts">
        <button id="btn-new-post">Créer un post</button>
        <h2 onclick="toggleSection('user-posts')">Mes publications <span class="toggle">[+]</span></h2>
        <div id="user-posts" class="collapsible-content"></div>

        <h2 onclick="toggleSection('liked-posts')">Posts likés <span class="toggle">[+]</span></h2>
        <div id="liked-posts" class="collapsible-content" style="display:none;"></div>

        <h2 onclick="toggleSection('commented-posts')">Posts commentés <span class="toggle">[+]</span></h2>
        <div id="commented-posts" class="collapsible-content" style="display:none;"></div>

        <h2 onclick="toggleSection('shared-posts')">Posts partagés <span class="toggle">[+]</span></h2>
        <div id="shared-posts" class="collapsible-content" style="display:none;"></div>
    </section>

    <div id="post-popup" class="popup" style="display: none;">
        <div class="popup-content">
            <h2 id="popup-title">Créer/Modifier un post</h2>
            <form id="post-form">
                <label>Titre du post :</label><br>
                <input type="text" id="post-title" required><br>
                <label>Contenu :</label><br>
                <textarea id="post-body" required></textarea><br>
                <label>Hashtags (séparés par des virgules) :</label><br>
                <input type="text" id="post-hashtags"><br>
                <label>Titre de l'image :</label><br>
                <input type="text" id="post-image-title"><br>
                <label>Image (upload) :</label><br>
                <input type="file" id="post-image-file"><br>
                <input type="hidden" id="post-id">
                <br>
                <button type="submit">Sauvegarder</button>
                <button type="button" onclick="closePostPopup()">Annuler</button>
            </form>
        </div>
    </div>
</main>
<script src="js/profil.js"></script>
<script>
    function toggleSection(id) {
        const section = document.getElementById(id);
        const toggle = section.previousElementSibling.querySelector('.toggle');
        const visible = section.style.display !== 'none';
        section.style.display = visible ? 'none' : 'block';
        toggle.textContent = visible ? '[+]' : '[-]';
    }
</script>
</body>
</html>